<ion-content class="home-bg">

  <div class="contenedor-principal">

    <ion-card class="card-contenedor">

      <ion-card-header>
        <ion-card-title class="titulo-header">Thrash Metal</ion-card-title>
      </ion-card-header>

      <ion-card-content>

        <form [formGroup]="discoForm">

          <ion-item>
            <ion-input placeholder="Nombre del disco" formControlName="brand"></ion-input>
          </ion-item>

          <ion-item>
            <ion-input placeholder="Autor / Grupo" formControlName="model"></ion-input>
          </ion-item>

          <ion-item>
            <input 
              id="fileInput"
              type="file" 
              accept=".jpg,.jpeg,.png"
              (change)="onFileSelected($event)"
            />
          </ion-item>

          <div class="center-button">
            <ion-button class="guardar-btn" (click)="guardar()">GUARDAR DISCO</ion-button>
          </div>

        </form>

      
        <ion-list>
          <ion-item *ngFor="let d of discos" class="item-disco">

            <ion-thumbnail slot="start">

              
              <img 
                *ngIf="d.filename; else noImage"
                [src]="'http://localhost:8080/images/' + d.filename"
                alt="Portada del disco"
              />

           
              <ng-template #noImage>
                <img src="assets/imagenes/default-disco.png" alt="Sin imagen" />
              </ng-template>

            </ion-thumbnail>

            <ion-label>
              <h2 class="disc-brand">{{ d.brand }}</h2>
              <p class="disc-model">{{ d.model }}</p>
            </ion-label>

            <ion-button class="btn-action" (click)="editarDisco(d)">EDITAR</ion-button>
            <ion-button class="btn-action" color="danger" (click)="deleteDisco(d.id)">BORRAR</ion-button>

          </ion-item>
        </ion-list>

    
        <ion-grid class="stats-bottom">
          <ion-row class="row-stats">

            <ion-col class="stats-col">
              <ion-icon name="flash"></ion-icon>
              <div>Thrash Metal</div>
            </ion-col>

            <ion-col class="stats-col volver-col">
              <ion-button class="volver-btn" (click)="volverInicio()">VOLVER</ion-button>
            </ion-col>

            <ion-col class="stats-col">
              <ion-icon name="albums"></ion-icon>
              <div>{{ discos.length }} discos</div>
            </ion-col>

          </ion-row>
        </ion-grid>

      </ion-card-content>

    </ion-card>

  </div>

</ion-content>



